2025-07-03T21:57:06.358180688Z ‚úì PostgreSQL connection configured
2025-07-03T21:57:06.367174433Z ‚úì Database module loaded: PostgreSQL
2025-07-03T21:57:07.046233306Z üì± Default Telegram Chat ID loaded: 6168209389
2025-07-03T21:57:07.046257407Z ü§ñ Initializing Telegram bot...
2025-07-03T21:57:07.046522162Z ‚úÖ Telegram bot initialized successfully (Production mode: true)
2025-07-03T21:57:07.046531032Z ‚úì Telegram bot initialized
2025-07-03T21:57:07.060879652Z üìä Initializing Stock Scanner V2...
2025-07-03T21:57:07.089349657Z ‚úÖ Stock Scanner V2 initialized with daily scan at 7 AM UK time
2025-07-03T21:57:07.08949189Z ‚úì Stock scanner V2 initialized with daily scans at 7 AM UK time
2025-07-03T21:57:07.089805366Z ‚úì Scanner will use exact same logic as manual "Scan All Global Stocks" button
2025-07-03T21:57:07.166319128Z Using memory store for sessions
2025-07-03T21:57:07.166323298Z Warning: connect.session() MemoryStore is not
2025-07-03T21:57:07.166344139Z ‚úì Authentication module loaded
2025-07-03T21:57:07.166347568Z ‚úì Subscription middleware loaded
2025-07-03T21:57:07.166349839Z ‚úì Auth middleware configured
2025-07-03T21:57:07.166356289Z designed for a production environment, as it will leak
2025-07-03T21:57:07.166358519Z memory, and will not scale past a single process.
2025-07-03T21:57:08.782903554Z Sentiment Analysis AI initialized
2025-07-03T21:57:08.783404254Z Initializing ML models...
2025-07-03T21:57:08.783742121Z Risk models trained successfully
2025-07-03T21:57:08.783748651Z Risk Management AI model initialized
2025-07-03T21:57:08.78474985Z ‚úì ML routes loaded
2025-07-03T21:57:08.78987429Z 
2025-07-03T21:57:08.789896751Z ‚úì Server running at http://localhost:10000
2025-07-03T21:57:08.789900961Z ‚úì Health check: http://localhost:10000/health
2025-07-03T21:57:08.789904151Z ‚úì API test: http://localhost:10000/api/test
2025-07-03T21:57:08.790991072Z Risk models trained successfully
2025-07-03T21:57:08.791003552Z Risk Management AI model initialized
2025-07-03T21:57:08.791007283Z Pattern Recognition model loaded (rule-based system)
2025-07-03T21:57:08.791009743Z Risk Management model loaded
2025-07-03T21:57:08.791012523Z ML models initialized successfully
2025-07-03T21:57:08.933623864Z 
2025-07-03T21:57:08.933644324Z üìä Database Status:
2025-07-03T21:57:08.933647894Z    Total trades: 0
2025-07-03T21:57:08.933656965Z    Active: 0
2025-07-03T21:57:08.933659865Z    Closed: 0
2025-07-03T21:57:08.93391437Z üîÑ Running comprehensive automatic user recovery...
2025-07-03T21:57:08.94318006Z [2025-07-03T21:57:08.941Z] HEAD /
2025-07-03T21:57:08.943193851Z Session ID: StCYT_b1waSJqHgTyid2kJSpfAEPTQEm
2025-07-03T21:57:08.943197781Z Is Authenticated: false
2025-07-03T21:57:08.943206411Z User: undefined
2025-07-03T21:57:08.958173083Z ‚úÖ PostgreSQL database initialized successfully
2025-07-03T21:57:09.042557878Z ‚ÑπÔ∏è Alert preferences table not available for recovery
2025-07-03T21:57:09.531149227Z üë• Total users in database: 11
2025-07-03T21:57:09.531178947Z ‚úÖ No missing users found - all users are properly tracked
2025-07-03T21:57:09.531514374Z 
2025-07-03T21:57:09.531526504Z üîî Alert System: Active
2025-07-03T21:57:09.53185736Z 
2025-07-03T21:57:09.531865151Z =================================
2025-07-03T21:57:09.531867521Z 
2025-07-03T21:57:51.636291488Z ==> Your service is live üéâ
2025-07-03T21:57:52.198504987Z ==> 
2025-07-03T21:57:52.222455465Z ==> ///////////////////////////////////////////////////////////
2025-07-03T21:57:53.502197869Z ==> 
2025-07-03T21:57:54.040911169Z ==> Available at your primary URL https://stock-proxy.onrender.com
2025-07-03T21:57:54.063609778Z ==> 
2025-07-03T21:57:54.094674005Z ==> ///////////////////////////////////////////////////////////
2025-07-03T21:57:56.778991225Z [2025-07-03T21:57:56.778Z] GET /
2025-07-03T21:57:56.779139758Z Session ID: 1MN6sZYh6c6B6x68XRWoG3F8aMouBBIY
2025-07-03T21:57:56.779158398Z Is Authenticated: false
2025-07-03T21:57:56.779200839Z User: undefined
2025-07-03T21:57:59.256337931Z [2025-07-03T21:57:59.256Z] GET /
2025-07-03T21:57:59.256355681Z Session ID: Hjm8L70l2v9_YLoeo_rU4Ti8BXVFbLN3
2025-07-03T21:57:59.256483054Z Is Authenticated: false
2025-07-03T21:57:59.256495124Z User: undefined
2025-07-03T21:57:59.922010423Z [2025-07-03T21:57:59.921Z] GET /js/theme-toggle.js
2025-07-03T21:57:59.934032988Z [2025-07-03T21:57:59.933Z] GET /styles.css
2025-07-03T21:58:00.234345655Z [2025-07-03T21:58:00.234Z] GET /favicon.ico
2025-07-03T21:58:09.641098836Z OAuth callback received for: ketanjoshisahs@gmail.com
2025-07-03T21:58:09.934933616Z User saved/updated in database: ketanjoshisahs@gmail.com
2025-07-03T21:58:09.934960077Z Allowing all authenticated users - open registration mode
2025-07-03T21:58:09.934965657Z User authenticated successfully: ketanjoshisahs@gmail.com
2025-07-03T21:58:09.935666591Z OAuth callback success handler called
2025-07-03T21:58:09.936955146Z User authenticated: {
2025-07-03T21:58:09.936971736Z   id: '114314234900750123206',
2025-07-03T21:58:09.936977066Z   email: 'ketanjoshisahs@gmail.com',
2025-07-03T21:58:09.936981586Z   name: 'Ketan Joshi',
2025-07-03T21:58:09.936987206Z   picture: 'https://lh3.googleusercontent.com/a/ACg8ocKot6Sli0vLcb6ZfW0UDlb5MO5phO6sBV5kJULaPaHt_6vcrl59=s96-c'
2025-07-03T21:58:09.936993267Z }
2025-07-03T21:58:09.936997487Z Session ID: Kr8rU5Lg5ps_GqBpznm_b3k7HyfD44p4
2025-07-03T21:58:09.937093938Z Session saved successfully
2025-07-03T21:58:09.937116789Z Redirecting to: /
2025-07-03T21:58:10.140528636Z [2025-07-03T21:58:10.140Z] GET /
2025-07-03T21:58:10.140556027Z Session ID: Kr8rU5Lg5ps_GqBpznm_b3k7HyfD44p4
2025-07-03T21:58:10.140573457Z Is Authenticated: true
2025-07-03T21:58:10.14071472Z User: {
2025-07-03T21:58:10.14072682Z   id: '114314234900750123206',
2025-07-03T21:58:10.14073404Z   email: 'ketanjoshisahs@gmail.com',
2025-07-03T21:58:10.14073947Z   name: 'Ketan Joshi',
2025-07-03T21:58:10.14074572Z   picture: 'https://lh3.googleusercontent.com/a/ACg8ocKot6Sli0vLcb6ZfW0UDlb5MO5phO6sBV5kJULaPaHt_6vcrl59=s96-c'
2025-07-03T21:58:10.14074999Z }
2025-07-03T21:58:10.391946849Z [2025-07-03T21:58:10.391Z] GET /styles.css
2025-07-03T21:58:10.404668708Z [2025-07-03T21:58:10.403Z] GET /js/chart-theme.js
2025-07-03T21:58:10.416191642Z [2025-07-03T21:58:10.416Z] GET /js/dti-indicators.js
2025-07-03T21:58:10.422400203Z [2025-07-03T21:58:10.422Z] GET /js/backtest-alerts.js
2025-07-03T21:58:10.426180787Z [2025-07-03T21:58:10.426Z] GET /js/cookie-consent.js
2025-07-03T21:58:10.429054033Z [2025-07-03T21:58:10.428Z] GET /js/api-client.js
2025-07-03T21:58:10.431141944Z [2025-07-03T21:58:10.431Z] GET /js/trade-core.js
2025-07-03T21:58:10.439280113Z [2025-07-03T21:58:10.439Z] GET /js/TradeUI-Dialogs.js
2025-07-03T21:58:10.439585809Z [2025-07-03T21:58:10.439Z] GET /js/alerts-ui.js
2025-07-03T21:58:10.710811099Z [2025-07-03T21:58:10.710Z] GET /js/dti-ui-charts.js
2025-07-03T21:58:10.714650283Z [2025-07-03T21:58:10.714Z] GET /js/user-menu.js
2025-07-03T21:58:10.719128741Z [2025-07-03T21:58:10.718Z] GET /js/dti-core.js
2025-07-03T21:58:10.720766933Z [2025-07-03T21:58:10.720Z] GET /js/TradeUI-Charts.js
2025-07-03T21:58:10.723357403Z [2025-07-03T21:58:10.723Z] GET /js/trade-modal.js
2025-07-03T21:58:10.72675843Z [2025-07-03T21:58:10.726Z] GET /js/dti-backtest.js
2025-07-03T21:58:10.728713768Z [2025-07-03T21:58:10.728Z] GET /js/dti-ui-controls.js
2025-07-03T21:58:10.732009302Z [2025-07-03T21:58:10.731Z] GET /js/theme-toggle.js
2025-07-03T21:58:10.741081629Z [2025-07-03T21:58:10.740Z] GET /js/company-names.js
2025-07-03T21:58:10.741262632Z [2025-07-03T21:58:10.741Z] GET /js/mobile-nav.js
2025-07-03T21:58:10.74165416Z [2025-07-03T21:58:10.741Z] GET /js/dti-performance-modal.js
2025-07-03T21:58:10.746838631Z [2025-07-03T21:58:10.746Z] GET /js/dti-ui-trades.js
2025-07-03T21:58:10.747267799Z [2025-07-03T21:58:10.747Z] GET /js/TradeUI-Core.js
2025-07-03T21:58:10.753279277Z [2025-07-03T21:58:10.752Z] GET /js/TradeUI-Trades.js
2025-07-03T21:58:10.75398101Z [2025-07-03T21:58:10.753Z] GET /js/dti-ui-core.js
2025-07-03T21:58:10.755393048Z [2025-07-03T21:58:10.755Z] GET /js/dti-ui-selector.js
2025-07-03T21:58:10.756743624Z [2025-07-03T21:58:10.756Z] GET /js/dti-data.js
2025-07-03T21:58:10.761405385Z [2025-07-03T21:58:10.761Z] GET /js/TradeUI-Export-Metrics.js
2025-07-03T21:58:10.958079341Z [2025-07-03T21:58:10.957Z] GET /js/ml-insights-ui.js
2025-07-03T21:58:11.219165593Z [2025-07-03T21:58:11.219Z] GET /api/trades/active
2025-07-03T21:58:11.272995303Z [2025-07-03T21:58:11.271Z] GET /favicon.ico
2025-07-03T21:58:11.327029537Z [2025-07-03T21:58:11.326Z] GET /api/alerts/preferences
2025-07-03T21:58:32.364750474Z [2025-07-03T21:58:32.364Z] GET /test.html
2025-07-03T21:58:32.621036133Z [2025-07-03T21:58:32.620Z] GET /health
2025-07-03T21:58:32.861415731Z [2025-07-03T21:58:32.861Z] GET /api/trades
2025-07-03T21:58:32.861698227Z >>> /api/trades endpoint hit!
2025-07-03T21:58:32.933574249Z >>> Returning 49 trades for user ketanjoshisahs@gmail.com
2025-07-03T21:58:33.238044967Z [2025-07-03T21:58:33.237Z] GET /favicon.ico
2025-07-03T21:58:33.346612604Z [2025-07-03T21:58:33.346Z] GET /health
2025-07-03T21:58:38.220621466Z [2025-07-03T21:58:38.220Z] POST /api/test-7am-scan
2025-07-03T21:58:38.220932662Z üìß Test 7 AM scan triggered by user: ketanjoshisahs@gmail.com
2025-07-03T21:58:38.220941232Z [TEST 7AM] Simulating scheduled scan at: 2025-07-03T21:58:38.220Z
2025-07-03T21:58:38.221663156Z [TEST 7AM] UK time: 03/07/2025, 22:58:38
2025-07-03T21:58:38.221671306Z [TEST 7AM] Using default TELEGRAM_CHAT_ID: 6168209389
2025-07-03T21:58:38.221908451Z [runManualScanSimulation] Starting scan simulation...
2025-07-03T21:58:38.221913921Z [runManualScanSimulation] Chat ID: 6168209389
2025-07-03T21:58:38.290747393Z [2025-07-03T21:58:38.290Z] GET /api/alerts/preferences
2025-07-03T21:58:38.311769694Z ‚ùå Error during scan simulation: AxiosError: Request failed with status code 401
2025-07-03T21:58:38.311786064Z     at settle (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:2049:12)
2025-07-03T21:58:38.311789994Z     at BrotliDecompress.handleStreamEnd (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:3166:11)
2025-07-03T21:58:38.311794864Z     at BrotliDecompress.emit (node:events:530:35)
2025-07-03T21:58:38.311798104Z     at endReadableNT (node:internal/streams/readable:1698:12)
2025-07-03T21:58:38.311801004Z     at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
2025-07-03T21:58:38.311803834Z     at Axios.request (/opt/render/project/src/node_modules/axios/dist/node/axios.cjs:4276:41)
2025-07-03T21:58:38.311806844Z     at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-07-03T21:58:38.311820575Z     at async StockScannerV2.runManualScanSimulation (/opt/render/project/src/stock-scanner-v2.js:75:35) {
2025-07-03T21:58:38.311824075Z   code: 'ERR_BAD_REQUEST',
2025-07-03T21:58:38.311826855Z   config: {
2025-07-03T21:58:38.311830155Z     transitional: {
2025-07-03T21:58:38.311832835Z       silentJSONParsing: true,
2025-07-03T21:58:38.311835565Z       forcedJSONParsing: true,
2025-07-03T21:58:38.311838205Z       clarifyTimeoutError: false
2025-07-03T21:58:38.311841205Z     },
2025-07-03T21:58:38.311844315Z     adapter: [ 'xhr', 'http', 'fetch' ],
2025-07-03T21:58:38.311846815Z     transformRequest: [ [Function: transformRequest] ],
2025-07-03T21:58:38.311849365Z     transformResponse: [ [Function: transformResponse] ],
2025-07-03T21:58:38.311851975Z     timeout: 0,
2025-07-03T21:58:38.311855085Z     xsrfCookieName: 'XSRF-TOKEN',
2025-07-03T21:58:38.311858205Z     xsrfHeaderName: 'X-XSRF-TOKEN',
2025-07-03T21:58:38.311859955Z     maxContentLength: -1,
2025-07-03T21:58:38.311862225Z     maxBodyLength: -1,
2025-07-03T21:58:38.311864545Z     env: { FormData: [Function [FormData]], Blob: [class Blob] },
2025-07-03T21:58:38.311866415Z     validateStatus: [Function: validateStatus],
2025-07-03T21:58:38.311868055Z     headers: Object [AxiosHeaders] {
2025-07-03T21:58:38.311869836Z       Accept: 'application/json, text/plain, */*',
2025-07-03T21:58:38.311871476Z       'Content-Type': undefined,
2025-07-03T21:58:38.311873145Z       'User-Agent': 'axios/1.9.0',
2025-07-03T21:58:38.311874745Z       'Accept-Encoding': 'gzip, compress, deflate, br'
2025-07-03T21:58:38.311876456Z     },
2025-07-03T21:58:38.311878116Z     method: 'get',
2025-07-03T21:58:38.311879806Z     url: 'https://stock-proxy.onrender.com/api/alerts/preferences',
2025-07-03T21:58:38.311881456Z     allowAbsoluteUrls: true,
2025-07-03T21:58:38.311883116Z     data: undefined
2025-07-03T21:58:38.311884776Z   },
2025-07-03T21:58:38.311886496Z   request: <ref *1> ClientRequest {
2025-07-03T21:58:38.311888136Z     _events: [Object: null prototype] {
2025-07-03T21:58:38.311889806Z       abort: [Function (anonymous)],
2025-07-03T21:58:38.311891416Z       aborted: [Function (anonymous)],
2025-07-03T21:58:38.311893046Z       connect: [Function (anonymous)],
2025-07-03T21:58:38.311894666Z       error: [Function (anonymous)],
2025-07-03T21:58:38.311896316Z       socket: [Function (anonymous)],
2025-07-03T21:58:38.311897936Z       timeout: [Function (anonymous)],
2025-07-03T21:58:38.311899536Z       finish: [Function: requestOnFinish]
2025-07-03T21:58:38.311901506Z     },
2025-07-03T21:58:38.311903166Z     _eventsCount: 7,
2025-07-03T21:58:38.311904896Z     _maxListeners: undefined,
2025-07-03T21:58:38.311906536Z     outputData: [],
2025-07-03T21:58:38.311908166Z     outputSize: 0,
2025-07-03T21:58:38.311909836Z     writable: true,
2025-07-03T21:58:38.311911426Z     destroyed: true,
2025-07-03T21:58:38.311913036Z     _last: true,
2025-07-03T21:58:38.311914686Z     chunkedEncoding: false,
2025-07-03T21:58:38.311916346Z     shouldKeepAlive: true,
2025-07-03T21:58:38.311918026Z     maxRequestsOnConnectionReached: false,
2025-07-03T21:58:38.311919676Z     _defaultKeepAlive: true,
2025-07-03T21:58:38.311921346Z     useChunkedEncodingByDefault: false,
2025-07-03T21:58:38.311923057Z     sendDate: false,
2025-07-03T21:58:38.311924777Z     _removedConnection: false,
2025-07-03T21:58:38.311926406Z     _removedContLen: false,
2025-07-03T21:58:38.311928037Z     _removedTE: false,
2025-07-03T21:58:38.311929677Z     strictContentLength: false,
2025-07-03T21:58:38.311931297Z     _contentLength: 0,
2025-07-03T21:58:38.311936867Z     _hasBody: true,
2025-07-03T21:58:38.311938577Z     _trailer: '',
2025-07-03T21:58:38.311940217Z     finished: true,
2025-07-03T21:58:38.311941837Z     _headerSent: true,
2025-07-03T21:58:38.311943457Z     _closed: true,
2025-07-03T21:58:38.311945137Z     _header: 'GET /api/alerts/preferences HTTP/1.1\r\n' +
2025-07-03T21:58:38.311946787Z       'Accept: application/json, text/plain, */*\r\n' +
2025-07-03T21:58:38.311948447Z       'User-Agent: axios/1.9.0\r\n' +
2025-07-03T21:58:38.311950087Z       'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-07-03T21:58:38.311951717Z       'Host: stock-proxy.onrender.com\r\n' +
2025-07-03T21:58:38.311953397Z       'Connection: keep-alive\r\n' +
2025-07-03T21:58:38.311955107Z       '\r\n',
2025-07-03T21:58:38.311956757Z     _keepAliveTimeout: 0,
2025-07-03T21:58:38.311958377Z     _onPendingData: [Function: nop],
2025-07-03T21:58:38.311959997Z     agent: Agent {
2025-07-03T21:58:38.311961617Z       _events: [Object: null prototype],
2025-07-03T21:58:38.311963257Z       _eventsCount: 2,
2025-07-03T21:58:38.311964857Z       _maxListeners: undefined,
2025-07-03T21:58:38.311966497Z       defaultPort: 443,
2025-07-03T21:58:38.311968127Z       protocol: 'https:',
2025-07-03T21:58:38.311969757Z       options: [Object: null prototype],
2025-07-03T21:58:38.311971407Z       requests: [Object: null prototype] {},
2025-07-03T21:58:38.311973038Z       sockets: [Object: null prototype] {},
2025-07-03T21:58:38.311974707Z       freeSockets: [Object: null prototype],
2025-07-03T21:58:38.311976387Z       keepAliveMsecs: 1000,
2025-07-03T21:58:38.311978018Z       keepAlive: true,
2025-07-03T21:58:38.311979787Z       maxSockets: Infinity,
2025-07-03T21:58:38.311981408Z       maxFreeSockets: 256,
2025-07-03T21:58:38.311983078Z       scheduling: 'lifo',
2025-07-03T21:58:38.311984708Z       maxTotalSockets: Infinity,
2025-07-03T21:58:38.311986328Z       totalSocketCount: 1,
2025-07-03T21:58:38.311987938Z       maxCachedSessions: 100,
2025-07-03T21:58:38.311989558Z       _sessionCache: [Object],
2025-07-03T21:58:38.311991208Z       [Symbol(shapeMode)]: false,
2025-07-03T21:58:38.311992868Z       [Symbol(kCapture)]: false
2025-07-03T21:58:38.311994518Z     },
2025-07-03T21:58:38.311996198Z     socketPath: undefined,
2025-07-03T21:58:38.311997868Z     method: 'GET',
2025-07-03T21:58:38.311999518Z     maxHeaderSize: undefined,
2025-07-03T21:58:38.312001178Z     insecureHTTPParser: undefined,
2025-07-03T21:58:38.312002838Z     joinDuplicateHeaders: undefined,
2025-07-03T21:58:38.312004468Z     path: '/api/alerts/preferences',
2025-07-03T21:58:38.312006118Z     _ended: true,
2025-07-03T21:58:38.312007758Z     res: IncomingMessage {
2025-07-03T21:58:38.312009388Z       _events: [Object],
2025-07-03T21:58:38.312011048Z       _readableState: [ReadableState],
2025-07-03T21:58:38.312012688Z       _maxListeners: undefined,
2025-07-03T21:58:38.312014318Z       socket: null,
2025-07-03T21:58:38.312015968Z       httpVersionMajor: 1,
2025-07-03T21:58:38.312017578Z       httpVersionMinor: 1,
2025-07-03T21:58:38.312019228Z       httpVersion: '1.1',
2025-07-03T21:58:38.312020868Z       complete: true,
2025-07-03T21:58:38.312029639Z       rawHeaders: [Array],
2025-07-03T21:58:38.312031508Z       rawTrailers: [],
2025-07-03T21:58:38.312033189Z       joinDuplicateHeaders: undefined,
2025-07-03T21:58:38.312034819Z       aborted: false,
2025-07-03T21:58:38.312036439Z       upgrade: false,
2025-07-03T21:58:38.312038109Z       url: '',
2025-07-03T21:58:38.312043289Z       method: null,
2025-07-03T21:58:38.312045089Z       statusCode: 401,
2025-07-03T21:58:38.312046719Z       statusMessage: 'Unauthorized',
2025-07-03T21:58:38.312048359Z       client: [TLSSocket],
2025-07-03T21:58:38.312049999Z       _consuming: false,
2025-07-03T21:58:38.312051769Z       _dumped: false,
2025-07-03T21:58:38.312053419Z       req: [Circular *1],
2025-07-03T21:58:38.312055049Z       _eventsCount: 4,
2025-07-03T21:58:38.312056739Z       responseUrl: 'https://stock-proxy.onrender.com/api/alerts/preferences',
2025-07-03T21:58:38.312058409Z       redirects: [],
2025-07-03T21:58:38.312060069Z       [Symbol(shapeMode)]: true,
2025-07-03T21:58:38.312061719Z       [Symbol(kCapture)]: false,
2025-07-03T21:58:38.312066299Z       [Symbol(kHeaders)]: [Object],
2025-07-03T21:58:38.312068019Z       [Symbol(kHeadersCount)]: 30,
2025-07-03T21:58:38.312071719Z       [Symbol(kTrailers)]: null,
2025-07-03T21:58:38.312073549Z       [Symbol(kTrailersCount)]: 0
2025-07-03T21:58:38.3120752Z     },
2025-07-03T21:58:38.31207692Z     aborted: false,
2025-07-03T21:58:38.312078569Z     timeoutCb: null,
2025-07-03T21:58:38.3120802Z     upgradeOrConnect: false,
2025-07-03T21:58:38.312081869Z     parser: null,
2025-07-03T21:58:38.3120835Z     maxHeadersCount: null,
2025-07-03T21:58:38.31208516Z     reusedSocket: false,
2025-07-03T21:58:38.31208685Z     host: 'stock-proxy.onrender.com',
2025-07-03T21:58:38.31208848Z     protocol: 'https:',
2025-07-03T21:58:38.31209009Z     _redirectable: Writable {
2025-07-03T21:58:38.31209171Z       _events: [Object],
2025-07-03T21:58:38.31209341Z       _writableState: [WritableState],
2025-07-03T21:58:38.31209504Z       _maxListeners: undefined,
2025-07-03T21:58:38.31209666Z       _options: [Object],
2025-07-03T21:58:38.31209833Z       _ended: true,
2025-07-03T21:58:38.31210002Z       _ending: true,
2025-07-03T21:58:38.31210165Z       _redirectCount: 0,
2025-07-03T21:58:38.31210326Z       _redirects: [],
2025-07-03T21:58:38.31210493Z       _requestBodyLength: 0,
2025-07-03T21:58:38.31210654Z       _requestBodyBuffers: [],
2025-07-03T21:58:38.31210815Z       _eventsCount: 3,
2025-07-03T21:58:38.31210982Z       _onNativeResponse: [Function (anonymous)],
2025-07-03T21:58:38.31211149Z       _currentRequest: [Circular *1],
2025-07-03T21:58:38.31211321Z       _currentUrl: 'https://stock-proxy.onrender.com/api/alerts/preferences',
2025-07-03T21:58:38.31211488Z       [Symbol(shapeMode)]: true,
2025-07-03T21:58:38.31211653Z       [Symbol(kCapture)]: false
2025-07-03T21:58:38.31211817Z     },
2025-07-03T21:58:38.31211984Z     [Symbol(shapeMode)]: false,
2025-07-03T21:58:38.31212149Z     [Symbol(kCapture)]: false,
2025-07-03T21:58:38.31212315Z     [Symbol(kBytesWritten)]: 0,
2025-07-03T21:58:38.31212483Z     [Symbol(kNeedDrain)]: false,
2025-07-03T21:58:38.31212653Z     [Symbol(corked)]: 0,
2025-07-03T21:58:38.312128181Z     [Symbol(kChunkedBuffer)]: [],
2025-07-03T21:58:38.31212983Z     [Symbol(kChunkedLength)]: 0,
2025-07-03T21:58:38.312131441Z     [Symbol(kSocket)]: TLSSocket {
2025-07-03T21:58:38.31213313Z       _tlsOptions: [Object],
2025-07-03T21:58:38.312134791Z       _secureEstablished: true,
2025-07-03T21:58:38.312136451Z       _securePending: false,
2025-07-03T21:58:38.312138121Z       _newSessionPending: false,
2025-07-03T21:58:38.312139791Z       _controlReleased: true,
2025-07-03T21:58:38.312141431Z       secureConnecting: false,
2025-07-03T21:58:38.312143061Z       _SNICallback: null,
2025-07-03T21:58:38.312144721Z       servername: 'stock-proxy.onrender.com',
2025-07-03T21:58:38.312149081Z       alpnProtocol: false,
2025-07-03T21:58:38.312150751Z       authorized: true,
2025-07-03T21:58:38.312152371Z       authorizationError: null,
2025-07-03T21:58:38.312153991Z       encrypted: true,
2025-07-03T21:58:38.312155701Z       _events: [Object: null prototype],
2025-07-03T21:58:38.312157391Z       _eventsCount: 9,
2025-07-03T21:58:38.312159011Z       connecting: false,
2025-07-03T21:58:38.312160681Z       _hadError: false,
2025-07-03T21:58:38.312162311Z       _parent: null,
2025-07-03T21:58:38.312163961Z       _host: 'stock-proxy.onrender.com',
2025-07-03T21:58:38.312165601Z       _closeAfterHandlingError: false,
2025-07-03T21:58:38.312167251Z       _readableState: [ReadableState],
2025-07-03T21:58:38.312168911Z       _writableState: [WritableState],
2025-07-03T21:58:38.312170521Z       allowHalfOpen: false,
2025-07-03T21:58:38.312174601Z       _maxListeners: undefined,
2025-07-03T21:58:38.312176271Z       _sockname: null,
2025-07-03T21:58:38.312177911Z       _pendingData: null,
2025-07-03T21:58:38.312179551Z       _pendingEncoding: '',
2025-07-03T21:58:38.312182882Z       server: undefined,
2025-07-03T21:58:38.312184702Z       _server: null,
2025-07-03T21:58:38.312186372Z       ssl: [TLSWrap],
2025-07-03T21:58:38.312188032Z       _requestCert: true,
2025-07-03T21:58:38.312189702Z       _rejectUnauthorized: true,
2025-07-03T21:58:38.312191332Z       timeout: 5000,
2025-07-03T21:58:38.312192982Z       parser: null,
2025-07-03T21:58:38.312194612Z       _httpMessage: null,
2025-07-03T21:58:38.312196242Z       autoSelectFamilyAttemptedAddresses: [Array],
2025-07-03T21:58:38.312197872Z       [Symbol(alpncallback)]: null,
2025-07-03T21:58:38.312199532Z       [Symbol(res)]: [TLSWrap],
2025-07-03T21:58:38.312201152Z       [Symbol(verified)]: true,
2025-07-03T21:58:38.312202782Z       [Symbol(pendingSession)]: null,
2025-07-03T21:58:38.312204432Z       [Symbol(async_id_symbol)]: -1,
2025-07-03T21:58:38.312206082Z       [Symbol(kHandle)]: [TLSWrap],
2025-07-03T21:58:38.312207722Z       [Symbol(lastWriteQueueSize)]: 0,
2025-07-03T21:58:38.312209342Z       [Symbol(timeout)]: Timeout {
2025-07-03T21:58:38.312211172Z         _idleTimeout: 5000,
2025-07-03T21:58:38.312212842Z         _idlePrev: [TimersList],
2025-07-03T21:58:38.312214472Z         _idleNext: [TimersList],
2025-07-03T21:58:38.312216112Z         _idleStart: 92348,
2025-07-03T21:58:38.312217752Z         _onTimeout: [Function: bound ],
2025-07-03T21:58:38.312219372Z         _timerArgs: undefined,
2025-07-03T21:58:38.312221042Z         _repeat: null,
2025-07-03T21:58:38.312222662Z         _destroyed: false,
2025-07-03T21:58:38.312224282Z         [Symbol(refed)]: false,
2025-07-03T21:58:38.312225952Z         [Symbol(kHasPrimitive)]: false,
2025-07-03T21:58:38.312227592Z         [Symbol(asyncId)]: 3205,
2025-07-03T21:58:38.312229263Z         [Symbol(triggerId)]: 3203,
2025-07-03T21:58:38.312230943Z         [Symbol(kAsyncContextFrame)]: undefined
2025-07-03T21:58:38.312232603Z       },
2025-07-03T21:58:38.312234263Z       [Symbol(kBuffer)]: null,
2025-07-03T21:58:38.312236273Z       [Symbol(kBufferCb)]: null,
2025-07-03T21:58:38.312237913Z       [Symbol(kBufferGen)]: null,
2025-07-03T21:58:38.312239623Z       [Symbol(shapeMode)]: true,
2025-07-03T21:58:38.312241273Z       [Symbol(kCapture)]: false,
2025-07-03T21:58:38.312242903Z       [Symbol(kSetNoDelay)]: false,
2025-07-03T21:58:38.312244533Z       [Symbol(kSetKeepAlive)]: true,
2025-07-03T21:58:38.312246203Z       [Symbol(kSetKeepAliveInitialDelay)]: 1,
2025-07-03T21:58:38.312247853Z       [Symbol(kBytesRead)]: 0,
2025-07-03T21:58:38.312256903Z       [Symbol(kBytesWritten)]: 0,
2025-07-03T21:58:38.312258603Z       [Symbol(connect-options)]: [Object]
2025-07-03T21:58:38.312260293Z     },
2025-07-03T21:58:38.312261963Z     [Symbol(kOutHeaders)]: [Object: null prototype] {
2025-07-03T21:58:38.312263663Z       accept: [Array],
2025-07-03T21:58:38.312265373Z       'user-agent': [Array],
2025-07-03T21:58:38.312267013Z       'accept-encoding': [Array],
2025-07-03T21:58:38.312268673Z       host: [Array]
2025-07-03T21:58:38.312270353Z     },
2025-07-03T21:58:38.312271993Z     [Symbol(errored)]: null,
2025-07-03T21:58:38.312273653Z     [Symbol(kHighWaterMark)]: 65536,
2025-07-03T21:58:38.312284233Z     [Symbol(kRejectNonStandardBodyWrites)]: false,
2025-07-03T21:58:38.312286093Z     [Symbol(kUniqueHeaders)]: null
2025-07-03T21:58:38.312303644Z   },
2025-07-03T21:58:38.312310214Z   response: {
2025-07-03T21:58:38.312312974Z     status: 401,
2025-07-03T21:58:38.312315394Z     statusText: 'Unauthorized',
2025-07-03T21:58:38.312318294Z     headers: Object [AxiosHeaders] {
2025-07-03T21:58:38.312320874Z       date: 'Thu, 03 Jul 2025 21:58:38 GMT',
2025-07-03T21:58:38.312323604Z       'content-type': 'application/json; charset=utf-8',
2025-07-03T21:58:38.312326164Z       'content-length': '38',
2025-07-03T21:58:38.312328784Z       connection: 'keep-alive',
2025-07-03T21:58:38.312331514Z       'access-control-allow-origin': '*',
2025-07-03T21:58:38.312334514Z       etag: 'W/"23-5acMW0iwqotvKDNixkkFKwa08HY"',
2025-07-03T21:58:38.312336754Z       'rndr-id': '1fb1b4ea-e5d8-44cb',
2025-07-03T21:58:38.312338495Z       vary: 'Accept-Encoding',
2025-07-03T21:58:38.312340205Z       'x-powered-by': 'Express',
2025-07-03T21:58:38.312341865Z       'x-render-origin-server': 'Render',
2025-07-03T21:58:38.312343495Z       'cf-cache-status': 'DYNAMIC',
2025-07-03T21:58:38.312345155Z       server: 'cloudflare',
2025-07-03T21:58:38.312346885Z       'cf-ray': '9599a5391de7ef4f-PDX',
2025-07-03T21:58:38.312348515Z       'alt-svc': 'h3=":443"; ma=86400'
2025-07-03T21:58:38.312350145Z     },
2025-07-03T21:58:38.312351855Z     config: {
2025-07-03T21:58:38.312353495Z       transitional: [Object],
2025-07-03T21:58:38.312355125Z       adapter: [Array],
2025-07-03T21:58:38.312356765Z       transformRequest: [Array],
2025-07-03T21:58:38.312358395Z       transformResponse: [Array],
2025-07-03T21:58:38.312360035Z       timeout: 0,
2025-07-03T21:58:38.312361715Z       xsrfCookieName: 'XSRF-TOKEN',
2025-07-03T21:58:38.312363345Z       xsrfHeaderName: 'X-XSRF-TOKEN',
2025-07-03T21:58:38.312365055Z       maxContentLength: -1,
2025-07-03T21:58:38.312366815Z       maxBodyLength: -1,
2025-07-03T21:58:38.312368905Z       env: [Object],
2025-07-03T21:58:38.312370615Z       validateStatus: [Function: validateStatus],
2025-07-03T21:58:38.312372255Z       headers: [Object [AxiosHeaders]],
2025-07-03T21:58:38.312373895Z       method: 'get',
2025-07-03T21:58:38.312375605Z       url: 'https://stock-proxy.onrender.com/api/alerts/preferences',
2025-07-03T21:58:38.312389715Z       allowAbsoluteUrls: true,
2025-07-03T21:58:38.312391896Z       data: undefined
2025-07-03T21:58:38.312393576Z     },
2025-07-03T21:58:38.312395256Z     request: <ref *1> ClientRequest {
2025-07-03T21:58:38.312396906Z       _events: [Object: null prototype],
2025-07-03T21:58:38.312398596Z       _eventsCount: 7,
2025-07-03T21:58:38.312400246Z       _maxListeners: undefined,
2025-07-03T21:58:38.312401866Z       outputData: [],
2025-07-03T21:58:38.312403566Z       outputSize: 0,
2025-07-03T21:58:38.312409896Z       writable: true,
2025-07-03T21:58:38.312411626Z       destroyed: true,
2025-07-03T21:58:38.312413246Z       _last: true,
2025-07-03T21:58:38.312414846Z       chunkedEncoding: false,
2025-07-03T21:58:38.312416806Z       shouldKeepAlive: true,
2025-07-03T21:58:38.312418856Z       maxRequestsOnConnectionReached: false,
2025-07-03T21:58:38.312420536Z       _defaultKeepAlive: true,
2025-07-03T21:58:38.312422166Z       useChunkedEncodingByDefault: false,
2025-07-03T21:58:38.312423846Z       sendDate: false,
2025-07-03T21:58:38.312425496Z       _removedConnection: false,
2025-07-03T21:58:38.312427136Z       _removedContLen: false,
2025-07-03T21:58:38.312428756Z       _removedTE: false,
2025-07-03T21:58:38.312430416Z       strictContentLength: false,
2025-07-03T21:58:38.312432056Z       _contentLength: 0,
2025-07-03T21:58:38.312433736Z       _hasBody: true,
2025-07-03T21:58:38.312435356Z       _trailer: '',
2025-07-03T21:58:38.312437016Z       finished: true,
2025-07-03T21:58:38.312438656Z       _headerSent: true,
2025-07-03T21:58:38.312440296Z       _closed: true,
2025-07-03T21:58:38.312441947Z       _header: 'GET /api/alerts/preferences HTTP/1.1\r\n' +
2025-07-03T21:58:38.312443617Z         'Accept: application/json, text/plain, */*\r\n' +
2025-07-03T21:58:38.312445257Z         'User-Agent: axios/1.9.0\r\n' +
2025-07-03T21:58:38.312446887Z         'Accept-Encoding: gzip, compress, deflate, br\r\n' +
2025-07-03T21:58:38.312448547Z         'Host: stock-proxy.onrender.com\r\n' +
2025-07-03T21:58:38.312450217Z         'Connection: keep-alive\r\n' +
2025-07-03T21:58:38.312451887Z         '\r\n',
2025-07-03T21:58:38.312453537Z       _keepAliveTimeout: 0,
2025-07-03T21:58:38.312455167Z       _onPendingData: [Function: nop],
2025-07-03T21:58:38.312456787Z       agent: [Agent],
2025-07-03T21:58:38.312458447Z       socketPath: undefined,
2025-07-03T21:58:38.312460077Z       method: 'GET',
2025-07-03T21:58:38.312461747Z       maxHeaderSize: undefined,
2025-07-03T21:58:38.312463407Z       insecureHTTPParser: undefined,
2025-07-03T21:58:38.312465057Z       joinDuplicateHeaders: undefined,
2025-07-03T21:58:38.312466687Z       path: '/api/alerts/preferences',
2025-07-03T21:58:38.312468317Z       _ended: true,
2025-07-03T21:58:38.312469967Z       res: [IncomingMessage],
2025-07-03T21:58:38.312471577Z       aborted: false,
2025-07-03T21:58:38.312473217Z       timeoutCb: null,
2025-07-03T21:58:38.312474847Z       upgradeOrConnect: false,
2025-07-03T21:58:38.312476517Z       parser: null,
2025-07-03T21:58:38.312478137Z       maxHeadersCount: null,
2025-07-03T21:58:38.312479887Z       reusedSocket: false,
2025-07-03T21:58:38.312481547Z       host: 'stock-proxy.onrender.com',
2025-07-03T21:58:38.312483188Z       protocol: 'https:',
2025-07-03T21:58:38.312484828Z       _redirectable: [Writable],
2025-07-03T21:58:38.312486468Z       [Symbol(shapeMode)]: false,
2025-07-03T21:58:38.312488117Z       [Symbol(kCapture)]: false,
2025-07-03T21:58:38.312489777Z       [Symbol(kBytesWritten)]: 0,
2025-07-03T21:58:38.312491417Z       [Symbol(kNeedDrain)]: false,
2025-07-03T21:58:38.312493098Z       [Symbol(corked)]: 0,
2025-07-03T21:58:38.312494738Z       [Symbol(kChunkedBuffer)]: [],
2025-07-03T21:58:38.312496408Z       [Symbol(kChunkedLength)]: 0,
2025-07-03T21:58:38.312500118Z       [Symbol(kSocket)]: [TLSSocket],
2025-07-03T21:58:38.312501878Z       [Symbol(kOutHeaders)]: [Object: null prototype],
2025-07-03T21:58:38.312503518Z       [Symbol(errored)]: null,
2025-07-03T21:58:38.312505218Z       [Symbol(kHighWaterMark)]: 65536,
2025-07-03T21:58:38.312509498Z       [Symbol(kRejectNonStandardBodyWrites)]: false,
2025-07-03T21:58:38.312511318Z       [Symbol(kUniqueHeaders)]: null
2025-07-03T21:58:38.312512978Z     },
2025-07-03T21:58:38.312514698Z     data: { error: 'Authentication required' }
2025-07-03T21:58:38.312516388Z   },
2025-07-03T21:58:38.312518088Z   status: 401
2025-07-03T21:58:38.312519738Z }
2025-07-03T21:58:38.369273355Z [2025-07-03T21:58:38.369Z] POST /api/alerts/send-custom
2025-07-03T21:58:38.38391211Z ‚ùå Failed to send alert: Request failed with status code 401