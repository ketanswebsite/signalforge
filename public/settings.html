<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#0f172a">
    <meta name="description" content="Manage your trading preferences and system settings for SutrAlgo">
    <title>Settings - SutrAlgo</title>

    <!-- Google Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="icon" type="image/png" href="/images/favicon.PNG">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@400;500;600;700;800;900&family=Work+Sans:wght@300;400;500;600;700&family=Roboto+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Modern CSS -->
    <link rel="stylesheet" href="/css/main.css">

    <!-- Modern Effects (Custom Cursor, Scroll Progress, Animations) -->
    <script src="/js/modern-effects.js" defer></script>

    <!-- Animation Controller -->
    <script src="/js/landing.js" defer></script>

    <!-- Theme Toggle Script (load early to prevent flash) -->
    <script src="js/theme-toggle.js"></script>
</head>
<body>
    <!-- Animated Background with Particles -->
    <div class="landing-background">
        <div class="gradient-orb orb-1"></div>
        <div class="gradient-orb orb-2"></div>
        <canvas id="particles-canvas"></canvas>
    </div>

    <!-- Floating decorative elements -->
    <div class="floating-element floating-element-1"></div>
    <div class="floating-element floating-element-2"></div>
    <div class="floating-element floating-element-3"></div>

    <div class="app-container">
        <!-- Navigation bar will be inserted here by unified-navbar.js -->

        <!-- Page Header -->
        <div class="header">
            <h1 class="page-title">
                <span class="material-icons" style="font-size: 24px;">settings</span>
                Settings
            </h1>
            <p class="page-description">Manage your trading preferences and system configuration</p>
        </div>

        <!-- Settings Container -->
        <div class="settings-container">
            <!-- Trading Parameters -->
            <section class="settings-section card">
                <h2 class="section-title">
                    <span class="material-icons">tune</span>
                    Trading Parameters
                </h2>

                <div class="setting-item">
                    <label for="stop-loss-percent">Default Stop Loss (%)</label>
                    <input type="number" id="stop-loss-percent"
                           class="settings-input" data-setting-key="default_stop_loss_percent"
                           min="1" max="20" step="0.5">
                    <span class="setting-help">Default stop loss percentage for new trades</span>
                </div>

                <div class="setting-item">
                    <label for="target-percent">Default Target (%)</label>
                    <input type="number" id="target-percent"
                           class="settings-input" data-setting-key="default_target_percent"
                           min="1" max="20" step="0.5">
                    <span class="setting-help">Default profit target percentage for new trades</span>
                </div>

                <div class="setting-item">
                    <label for="max-positions-total">Max Positions (Total)</label>
                    <input type="number" id="max-positions-total"
                           class="settings-input" data-setting-key="max_positions_total"
                           min="1" max="50">
                    <span class="setting-help">Maximum number of active positions across all markets</span>
                </div>

                <div class="setting-item">
                    <label for="max-positions-per-market">Max Positions (Per Market)</label>
                    <input type="number" id="max-positions-per-market"
                           class="settings-input" data-setting-key="max_positions_per_market"
                           min="1" max="20">
                    <span class="setting-help">Maximum positions per market (India, UK, US)</span>
                </div>

                <div class="setting-item">
                    <label for="min-dti-threshold">Min DTI Threshold</label>
                    <input type="number" id="min-dti-threshold"
                           class="settings-input" data-setting-key="min_dti_threshold"
                           min="-100" max="0" step="1">
                    <span class="setting-help">Signals with DTI above this will be filtered out</span>
                </div>
            </section>

            <!-- Telegram Alerts -->
            <section class="settings-section card">
                <h2 class="section-title">
                    <span class="material-icons">chat</span>
                    Telegram Alerts
                </h2>

                <div class="setting-item">
                    <label class="checkbox-label">
                        <input type="checkbox" id="telegram-enabled">
                        <span>Enable Telegram Alerts</span>
                    </label>
                    <span class="setting-help">Receive trading alerts via Telegram</span>
                </div>

                <div class="setting-item">
                    <label>Alert Types:</label>
                    <div class="checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="alert-target">
                            <span>Target Reached</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="alert-stoploss">
                            <span>Stop Loss Hit</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="alert-manual">
                            <span>Manual Exits</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="alert-conviction">
                            <span>High Conviction Signals</span>
                        </label>
                    </div>
                </div>
            </section>

            <!-- Signal Automation -->
            <section class="settings-section card">
                <h2 class="section-title">
                    <span class="material-icons">code</span>
                    Signal Automation
                </h2>

                <div class="setting-item">
                    <label class="checkbox-label">
                        <input type="checkbox" id="auto-add-signals">
                        <span>Auto-add high conviction signals as trades</span>
                    </label>
                    <span class="setting-help">Automatically convert 7 AM signals into active trades</span>
                </div>
            </section>

            <!-- Initial Capital -->
            <section class="settings-section card">
                <h2 class="section-title">
                    <span class="material-icons">attach_money</span>
                    Initial Capital
                </h2>

                <div class="setting-item">
                    <label for="capital-india">India (₹)</label>
                    <input type="number" id="capital-india"
                           class="settings-input" data-setting-key="initial_capital_india"
                           min="0" step="10000">
                    <span class="setting-help">Starting capital for Indian market trades</span>
                </div>

                <div class="setting-item">
                    <label for="capital-uk">UK (£)</label>
                    <input type="number" id="capital-uk"
                           class="settings-input" data-setting-key="initial_capital_uk"
                           min="0" step="100">
                    <span class="setting-help">Starting capital for UK market trades</span>
                </div>

                <div class="setting-item">
                    <label for="capital-us">US ($)</label>
                    <input type="number" id="capital-us"
                           class="settings-input" data-setting-key="initial_capital_us"
                           min="0" step="100">
                    <span class="setting-help">Starting capital for US market trades</span>
                </div>
            </section>

            <!-- Action Buttons -->
            <div class="settings-actions">
                <button id="save-settings-btn" class="btn btn-primary">
                    <span class="material-icons">save</span>
                    Save Settings
                </button>
                <button id="reset-defaults-btn" class="btn btn-secondary">
                    <span class="material-icons">refresh</span>
                    Reset to Defaults
                </button>
            </div>
        </div>

        <!-- Notification container -->
        <div id="notification-container"></div>

        <!-- Dark Mode Toggle -->
        <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
            <span class="material-icons sun-icon">light_mode</span>
            <span class="material-icons moon-icon">dark_mode</span>
        </button>
    </div>

    <!-- Legal Footer -->
    <footer class="legal-footer">
        <div class="footer-content">
            <div class="footer-links">
                <a href="terms.html" class="footer-link">Terms of Service</a>
                <a href="privacy.html" class="footer-link">Privacy Policy</a>
                <a href="data-management.html" class="footer-link">Data Management</a>
                <span class="footer-text">© 2025 SutrAlgo - Educational tools only, not investment advice</span>
            </div>
            <div class="footer-disclaimer">
                <p>Past performance is not a reliable indicator of future results. You accept full responsibility for all investment decisions.</p>
            </div>
        </div>
    </footer>

    <!-- Settings UI Script -->
    <script src="/js/settings-ui.js"></script>

    <!-- Unified Navigation Bar -->
    <script src="js/unified-navbar.js"></script>

    <!-- Initialize -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            SettingsUI.initializeSettings();
        });
    </script>

    <!-- Initialize Animations -->
    <script>
        if (window.AnimationController) {
            window.AnimationController.init('reduced');
        }
    </script>
</body>
</html>
